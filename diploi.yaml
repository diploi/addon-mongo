diploiVersion: v1.0
type: addon
name: MongoDB
description: Official MongoDB addon for Diploi.

parameterGroups:
  - name: Credentials
    identifier: credentials
    description: Adjust the initial credentials of the MongoDB instance. Changing these values after the deployment has been started once will have no effect.
    parameters:
      - name: Root User Username
        identifier: MONGO_INITDB_ROOT_USERNAME
        defaultValue: root
        type: string
      - name: Root User Password
        identifier: MONGO_INITDB_ROOT_PASSWORD
        defaultValue: example
        type: secret

connectionStrings:
  - name: Connection URI
    value: mongodb://${MONGO_INITDB_ROOT_USERNAME}:${MONGO_INITDB_ROOT_PASSWORD}@mongo.${DIPLOI_NAMESPACE}
    description: This connection URI is for components within the deployment and is inaccessible externally.

logs:
  - name: MongoDB Log
    type: log
    labelSelector: app=mongo

images:
  - identifier: mongo
    image: mongo:8.0.4-noble

storage:
  - identifier: mongo
    sizeMiB: 5120
